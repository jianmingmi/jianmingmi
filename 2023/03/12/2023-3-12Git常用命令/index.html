<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="&lt;p&gt;Git常用命令&lt;/p&gt;"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>Git常用命令 | Mijm Blog</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 6.3.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/Git/" rel="tag">Git</a></div><div class="post-time">2023-03-12</div></div></div><div class="container post-header"><h1>Git常用命令</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90ssh-key"><span class="toc-number">1.</span> <span class="toc-text">生成ssh key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEgit%E5%9C%B0%E5%9D%80"><span class="toc-number">3.</span> <span class="toc-text">设置git地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">4.</span> <span class="toc-text">远程操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-init-dir"><span class="toc-number">5.</span> <span class="toc-text">git init [dir]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-clone"><span class="toc-number">6.</span> <span class="toc-text">git clone</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%93%8D%E4%BD%9C"><span class="toc-number">7.</span> <span class="toc-text">添加操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C"><span class="toc-number">8.</span> <span class="toc-text">分支操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">9.</span> <span class="toc-text">合并操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%93%8D%E4%BD%9C"><span class="toc-number">10.</span> <span class="toc-text">缓存操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tag%E6%93%8D%E4%BD%9C"><span class="toc-number">11.</span> <span class="toc-text">tag操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#patch%E6%93%8D%E4%BD%9C"><span class="toc-number">12.</span> <span class="toc-text">patch操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#log%E6%93%8D%E4%BD%9C"><span class="toc-number">13.</span> <span class="toc-text">log操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#diff%E6%93%8D%E4%BD%9C"><span class="toc-number">14.</span> <span class="toc-text">diff操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E6%96%87%E4%BB%B6"><span class="toc-number">15.</span> <span class="toc-text">恢复文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">16.</span> <span class="toc-text">其他</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-number">17.</span> <span class="toc-text">高级用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-hooks"><span class="toc-number">18.</span> <span class="toc-text">git hooks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E6%9B%BF%E6%8D%A2"><span class="toc-number">19.</span> <span class="toc-text">地址替换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-lfs"><span class="toc-number">20.</span> <span class="toc-text">git-lfs</span></a></li></ol></details></div><div class="container post-content"><p>Git常用命令</p>
<span id="more"></span>

<h2 id="生成ssh-key"><a href="#生成ssh-key" class="headerlink" title="生成ssh key"></a>生成ssh key</h2><p>ssh-keygen</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name mijm</span><br><span class="line">git config --global user.email jianmingmi@aliyun.com</span><br><span class="line">git config --global core.editor vim（编辑器vim）</span><br><span class="line">git config --global color.ui auto（颜色自动）</span><br><span class="line">git config --global commit.template template.txt</span><br><span class="line">git config --global merge.tool meld</span><br><span class="line">git config --global ssh.variant ssh（git报ssh variant &#x27;simple&#x27; does not support setting port）</span><br><span class="line">git config --global http.postBuffer 524288000</span><br><span class="line">git config --global http.sslVerify false（关闭http ssl验证）</span><br><span class="line">git config --global init.defaultBranch master（init默认分支）</span><br><span class="line">git config --global core.autocrlf true（提交时候自动转换crlf为lf）</span><br><span class="line">git config --list</span><br><span class="line">注：--system, /etc/gitconfig; --global, ~/.gitconfig; --local, .git/config</span><br></pre></td></tr></table></figure>

<h2 id="设置git地址"><a href="#设置git地址" class="headerlink" title="设置git地址"></a>设置git地址</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用参数设置git地址：git --git-dir=.repo/manifests/.git --work-tree=.repo/manifests remote -v</span><br><span class="line">设置用户名和密码：git -c user.name=jianmingmi -c user.email=jianming_mi@163.com commit</span><br></pre></td></tr></table></figure>

<h2 id="远程操作"><a href="#远程操作" class="headerlink" title="远程操作"></a>远程操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">git ls-remote -h [url]（查看远程分支命令）</span><br><span class="line">git remote</span><br><span class="line">    -v（查看远程仓库地址）</span><br><span class="line">    add [remote] [url]（添加远程库）</span><br><span class="line">    remove [remote]（删除hr）</span><br><span class="line">    set-url [remote] [url]（设置新地址）</span><br><span class="line">    get-url --push origin（获取push的url地址）</span><br><span class="line">    rename [old] [new]（重命名）</span><br><span class="line">    update（更新远端分支列表）</span><br><span class="line"></span><br><span class="line">git fetch</span><br><span class="line">    git fetch [remote] [branch]（拉test分支到本地）</span><br><span class="line">    git fetch -p （删除远程仓库已经删除的分支）</span><br><span class="line">    git fetch --all（拉所有remote）</span><br><span class="line">    git fetch --depth [n]（深化浅克隆的历史）</span><br><span class="line">    git fetch --unshallow（转换为一个完整的仓库）</span><br><span class="line"></span><br><span class="line">    注：git pull = git fetch + git merge</span><br><span class="line">    注：git pull --rebase = git fetch + git rebase</span><br><span class="line"></span><br><span class="line">git pull</span><br><span class="line">    git pull [remote] [remote branch]:[local branch or HEAD]</span><br><span class="line">        --rebase（rebase方式合代码）</span><br><span class="line">        --no-tags（不拉tags）</span><br><span class="line">        --depth（克隆深度）</span><br><span class="line"></span><br><span class="line">git push</span><br><span class="line">    git push [remote] [local branch or HEAD]:[remote branch]</span><br><span class="line">        -f（强制推送）</span><br><span class="line">        --tags（推送tag）</span><br><span class="line">        --author=&#x27;mijianming&lt;mijianming@example.com&gt;&#x27;</span><br><span class="line">        --no-thin（不做优化，全推）</span><br><span class="line">    git push [remote] :[branch]（删除远端分支）</span><br></pre></td></tr></table></figure>


<h2 id="git-init-dir"><a href="#git-init-dir" class="headerlink" title="git init [dir]"></a>git init [dir]</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--bare（初始化git裸仓库（没工作区，镜像）</span><br></pre></td></tr></table></figure>

<h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-b [branch]（分支）</span><br><span class="line">--mirror（镜像仓）</span><br><span class="line">--reference（优先从本地克隆）</span><br><span class="line">--single-branch（拉单一分支）</span><br><span class="line">--depth=1（克隆深度）</span><br><span class="line">--no-tags（不拉tag）</span><br><span class="line">-v（显示详细信息）</span><br><span class="line">-q（不显示信息）</span><br></pre></td></tr></table></figure>

<h2 id="添加操作"><a href="#添加操作" class="headerlink" title="添加操作"></a>添加操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git add . -A（添加进缓存区）</span><br><span class="line">git rm [file]（从暂存区移除）</span><br><span class="line">git commit</span><br><span class="line">    -s（Signed-off-by）</span><br><span class="line">    -m（msg）</span><br><span class="line">    --amend（追加提交，会生成新的commit id）</span><br><span class="line">    --no-edit（提交后不编辑）</span><br></pre></td></tr></table></figure>

<h2 id="分支操作"><a href="#分支操作" class="headerlink" title="分支操作"></a>分支操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br><span class="line">    [-a] [-v]（查看分支（所有、详细）</span><br><span class="line">    [-d | -D] test（删除分支（-D强制）</span><br><span class="line">git checkout</span><br><span class="line">    master（切换分支（如果没有会创建关联，commit id HEAD游离）</span><br><span class="line">    -b [new branch] [old branch]（切换并创建分支）</span><br></pre></td></tr></table></figure>

<h2 id="合并操作"><a href="#合并操作" class="headerlink" title="合并操作"></a>合并操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">git merge [branch]</span><br><span class="line">    --edit（合并完后编辑（默认））</span><br><span class="line">    --no-edit（合并完后不编辑）</span><br><span class="line">    --ff（允许快进（默认））</span><br><span class="line">    --no-ff（禁止快进，保留分支，产生节点）</span><br><span class="line">    --squash（创建一个单独的提交而不是做一次合并）</span><br><span class="line">    -s （recursive、resovle、octopus，recursive是默认策略，如遇冲突，直接抛出）</span><br><span class="line">        -s recursive（这是默认的合并策略，这将直接使用递归三路合并算法进行合并）</span><br><span class="line">        -s resovle（让更多的冲突变成手工合并而不是自动合并。这使用的是三路合并算法。普通的三路合并算法会存在发现多个共同祖先的问题。此策略会 “仔细地” 寻找其中一个共同祖先。）</span><br><span class="line">        -s octopus（此策略允许合并多个 git 提交节点（分支）。不过，如果会出现需要手工解决的冲突，那么此策略将不会执行。）</span><br><span class="line">        -s ours（无论有多少个合并分支，当前分支就直接是最终的合并结果，这与策略参数中的ours是不同的，策略参数中会遇到冲突才会用我们的）</span><br><span class="line">        -s subtree（此策略使用的是修改后的递归三路合并算法。与 recursive 不同的是，此策略会将合并的两个分支的其中一个视为另一个的子树，就像 git subtree 中使用的子树一样。）</span><br><span class="line">    -X （ours、theirs、patience、ignore-space-change如果冲突默认使用我们的）</span><br><span class="line">        -X ours（使用我们的）</span><br><span class="line">        -X theirs（使用他们的）</span><br><span class="line">        -X ignore-space-change（空格改动的话就忽略）</span><br><span class="line">        -X find-renames=0（值越小，使文件越相同）</span><br><span class="line">        -X diff-algorithm=&#123;patience|minimal|histogram|myers&#125;（指定一个差异算法，myers是默认的，具体算法差异可通过man手册来查看）</span><br><span class="line">            此策略的名称叫 “耐心”，因为 git 将话费更多的时间来进行合并一些看起来不怎么重要的行，合并的结果也更加准确。当然，使用的算法是 recursive 即递归三路合并算法</span><br><span class="line">    注：本分支或者其他分支删除，合并后保留未删除的</span><br><span class="line">    注：二进制合并冲突保留自己的</span><br><span class="line"></span><br><span class="line">git rebase [branch]（合并分支，变基方式）</span><br><span class="line">    注：处理完冲突后必须git add .; git rebase --continue（不能使用git commit）</span><br></pre></td></tr></table></figure>

<h2 id="缓存操作"><a href="#缓存操作" class="headerlink" title="缓存操作"></a>缓存操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git stash（生成stash，保存未commit的文件，不包括未追踪的）</span><br><span class="line">git stash list（列表）</span><br><span class="line">git stash pop（提取 stash@&#123;n&#125;）</span><br><span class="line">git stash clear（清除）</span><br></pre></td></tr></table></figure>

<h2 id="tag操作"><a href="#tag操作" class="headerlink" title="tag操作"></a>tag操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git tag [-l &#x27;v1.8.5*&#x27;]（显示标签）</span><br><span class="line">git tag v1.0 [commit]（轻量标签）</span><br><span class="line">git tag -d v1.0（删除标签）</span><br><span class="line">git checkout v1.0（切换到该提交）</span><br><span class="line">git tag -a v1.0 -m &#x27;release v1.0&#x27; [commit]（附注标签）</span><br><span class="line">git show v1.0</span><br><span class="line">git push origin +refs/tags/*:refs/tags/*（推送tag）</span><br><span class="line">git push origin :refs/tags/v1.0（删除tag）</span><br><span class="line">git fetch origin +refs/tags/*:refs/tags/*（拉取tag）</span><br></pre></td></tr></table></figure>

<h2 id="patch操作"><a href="#patch操作" class="headerlink" title="patch操作"></a>patch操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git diff &gt; xxx.patch</span><br><span class="line">git apply xxx.patch</span><br><span class="line"></span><br><span class="line">git format-patch -1 commitid [--binary]</span><br><span class="line">git format-patch commitid..commitid</span><br><span class="line">git am 0001-limit-log-function.patch</span><br></pre></td></tr></table></figure>

<h2 id="log操作"><a href="#log操作" class="headerlink" title="log操作"></a>log操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">git status [-s]（-s，简短输出）</span><br><span class="line">git reflog（查看所有分支log（后悔药））</span><br><span class="line">git show commitid（显示提交信息）</span><br><span class="line">git log [file]</span><br><span class="line">    --no-merges（不查看merge节点）</span><br><span class="line">    --abbrev-commit（显示commit前几个字符）</span><br><span class="line">    --oneline --graph（显示节点信息）</span><br><span class="line">    --stat -p（显示具体修改信息）</span><br><span class="line">    -1（显示第一笔）</span><br><span class="line">    --after, --before（在那些之间）</span><br><span class="line">    --author（仅显示指定作者相关的提交）</span><br><span class="line">    --committer（仅显示指定提交者相关的提交）</span><br><span class="line">    --grep （仅显示含指定关键字的提交）</span><br><span class="line">git log commit1..commit2（查询commit1与commit2之间的记录，不包括commit1，包括commit2）</span><br><span class="line">git log commit1...commit2（查询commit1与commit2之间的记录，包括commit1，包括commit2）</span><br><span class="line">git log --after=&quot;2014-7-1&quot; --before=&quot;2014-7-4&quot;（按日期查询）</span><br><span class="line">git log --left-right branch1...branch2（查看分支branch1和branch2不同）</span><br><span class="line">git log --color --date=format:&#x27;%Y-%m-%d %H:%M:%S&#x27; --pretty=format:&#x27;%Cred%h%Creset %Cgreen(%cd) %C(yellow)%d%Cblue %s %C(green)(%an)%Creset&#x27;</span><br><span class="line">git log --cherry-pick --right-only HEAD...remotes/origin/master --no-merges --oneline（检查没有从master上cherry-pick的提交）</span><br><span class="line"></span><br><span class="line">git ll格式化log</span><br><span class="line">    git config --global alias.ll &quot;log --color --date=format:&#x27;%Y-%m-%d %H:%M:%S&#x27; --pretty=format:&#x27;%Cred%h%Creset %Cgreen(%cd) %C(yellow)%d%Cblue %s %C(green)(%an)%Creset&#x27;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="diff操作"><a href="#diff操作" class="headerlink" title="diff操作"></a>diff操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD FETCH_HEAD</span><br><span class="line">git diff（比较工作区和暂存区（add之前和add之后）</span><br><span class="line">git diff HEAD（比较工作区和HEAD（add之前和commit之后，常用）</span><br><span class="line">git diff --cached（比较暂存区和HEAD（add之后和commit之后）</span><br></pre></td></tr></table></figure>

<h2 id="恢复文件"><a href="#恢复文件" class="headerlink" title="恢复文件"></a>恢复文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git checkout file（恢复工作区文件和暂存区一致）</span><br><span class="line">    --ours（恢复我们未merge的文件）</span><br><span class="line">    --theirs（恢复他们未merge的文件）</span><br><span class="line">git reset --soft file（回退HEAD）</span><br><span class="line">git reset file（回退HEAD和index）</span><br><span class="line">git reset --hard HEAD（git reset --hard commitid）（HEAD^相当于HEAD~1）（回退HEAD、index和working tree）</span><br><span class="line">git clean -dfx（删除工作区未到暂存区的文件）</span><br><span class="line">git revert [commit]（revert提交）</span><br></pre></td></tr></table></figure>

<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick [commit]（cherry-pick某笔提交）</span><br><span class="line">    --strategy=recursive -X theirs（如果冲突默认使用别人的代码）</span><br><span class="line">    -m 1 &lt;commitHash&gt;：选择1为父节点，同步2的代码（一般为merge节点，2为基线）</span><br><span class="line"></span><br><span class="line">git blame sha1_file.c（查看某些文件修改历史）</span><br><span class="line">    [-L 160,+10]（查看多少行到多少行）</span><br><span class="line">    -e（输出邮箱）</span><br><span class="line"></span><br><span class="line">git grep -n xxx（查找哪些地方有包含）</span><br><span class="line"></span><br><span class="line">git rebase -i HEAD~2（合并、调整（顺序）最近两次提交，会修改commit id（s合并提交））</span><br><span class="line">git rebase -i commitid（合并、调整（顺序）commitid之前的提交）</span><br></pre></td></tr></table></figure>

<h2 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">git fsck --full（检查数据完整性）</span><br><span class="line">git gc --auto（清理优化本地存储）</span><br><span class="line">git symbolic-ref refs/remotes/m/master refs/remotes/origin/master（引用指向引用）</span><br><span class="line">git pack-objects（打包obj，git unpack-objects解压缩）</span><br><span class="line">git pack-refs --all --prune（打包引用）</span><br><span class="line">git rev-parse HEAD（获取HEAD的commit id）</span><br><span class="line">git rev-parse --verify refs/remotes/origin/master（解析分支的commit）</span><br><span class="line">git rev-parse --git-dir（获取git根路径）</span><br><span class="line">git read-tree 6a9756b（读取树对象到暂存区）</span><br><span class="line">git ls-tree -r 93c1491（获取某次提交树对象）</span><br><span class="line">git cat-file -p 93c1491（读取某个对象：提交对象、树对象、数据对象，objects文件中是SHA-1值：文件夹+文件）</span><br><span class="line">git symbolic-ref HEAD refs/for/分支名</span><br><span class="line">git archive --remote=ssh://mijm@gerrit.com:29418/config master note.txt &gt; note.txt</span><br><span class="line">git ls-files -s（显示暂存区内容的对象名称）</span><br><span class="line">git ls-files -u（显示未合并的文件）</span><br><span class="line">git merge-base -a master test（显示两个分支或提交的共同祖先）</span><br><span class="line">    –octopus 计算所有提供的提交的最佳公共祖先，为n路合并做准备</span><br><span class="line">    –independent 不是打印merge base，而是打印具有相同祖先的提交的最小子集。换言之，在给定的提交中，列出无法从任何其他方获得的提交。</span><br><span class="line">    –is-ancester 检查第一个提交是否是第二个提交的祖先，如果是，返回0，如果不是则返回1，结果错误即返回非0非1的状态码；</span><br><span class="line">    –fork-point 找到一个分支从另一个分支分叉的点。这不仅要寻找两个提交的共同祖先，还要考虑到的reflog，以查看导致的历史是否从分支的早期化身派生</span><br><span class="line">    -a --all Output all merge bases for the commits, instead of just one.</span><br></pre></td></tr></table></figure>


<h2 id="git-hooks"><a href="#git-hooks" class="headerlink" title="git hooks"></a>git hooks</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mv .git/hooks/commit-msg.sample .git/hooks/commit-msg</span><br><span class="line">vim .git/hooks/commit-msg</span><br><span class="line">    #!/bin/sh</span><br><span class="line">    #</span><br><span class="line">    # An example hook script to check the commit log message.</span><br><span class="line">    # Called by &quot;git commit&quot; with one argument, the name of the file</span><br><span class="line">    # that has the commit message.  The hook should exit with non-zero</span><br><span class="line">    # status after issuing an appropriate message if it wants to stop the</span><br><span class="line">    # commit.  The hook is allowed to edit the commit message file.</span><br><span class="line">    #</span><br><span class="line">    # To enable this hook, rename this file to &quot;commit-msg&quot;.</span><br><span class="line"></span><br><span class="line">    branch_name=`git symbolic-ref --short -q HEAD`</span><br><span class="line">    echo &quot;$&#123;branch_name&#125;&quot;</span><br><span class="line">    commit=&quot;&lt;&quot;$&#123;branch_name&#125;&quot;&gt;&quot;$(cat $1)</span><br><span class="line">    echo &quot;$commit&quot; &gt; &quot;$1&quot;</span><br></pre></td></tr></table></figure>

<h2 id="地址替换"><a href="#地址替换" class="headerlink" title="地址替换"></a>地址替换</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">替换url地址（拉取和推送都会替换）</span><br><span class="line">    [url &quot;ssh://mijm@111.230.209.87:10002&quot;]</span><br><span class="line">        insteadOf = ssh://mijm@111.222.333.444:10002</span><br><span class="line">        insteadOf = ssh://111.222.333.444:10002</span><br><span class="line"></span><br><span class="line">仅替换推送url地址</span><br><span class="line">    [url &quot;ssh://mijm@111.230.209.87:10002&quot;]</span><br><span class="line">        pushInsteadOf = ssh://mijm@111.222.333.444:10002</span><br><span class="line">        pushInsteadOf = ssh://111.222.333.444:10002</span><br></pre></td></tr></table></figure>

<h2 id="git-lfs"><a href="#git-lfs" class="headerlink" title="git-lfs"></a>git-lfs</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">    linux</span><br><span class="line">        sudo apt-get install git-lfs</span><br><span class="line">    windows</span><br><span class="line">        下载：https://github.com/git-lfs/git-lfs/releases/download/v3.3.0/git-lfs-windows-v3.3.0.exe</span><br><span class="line">        一路next</span><br><span class="line">使用</span><br><span class="line">    git push --no-verify（如果一个仓库中包含LFS内容，但是在推送时不想推送这类文件，只要加上 --no-verify选项就行）</span><br><span class="line">    git lfs install（这个命令会自动改变Git配置文件 .gitconfig，而且是全局性质的，取消全局追踪是：git lfs uninstall）</span><br><span class="line">    git lfs track &quot;*.png&quot;（这个命令会更改仓库中的 .gitattributes配置文件，放弃追踪是：git lfs untrack &quot;*.png&quot;）</span><br><span class="line"></span><br><span class="line">    git lfs ls-files（查看正在被LFS追踪的文件）</span><br></pre></td></tr></table></figure></div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/lato-font/3.0.0/css/lato-font.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcdn.net/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcdn.net/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>
<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="&lt;p&gt;Python常见问题&lt;/p&gt;"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>Python常见问题 | Mijm Blog</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 6.3.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/Python/" rel="tag">Python</a></div><div class="post-time">2022-06-29</div></div></div><div class="container post-header"><h1>Python常见问题</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E5%92%8Cpip%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">python和pip安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E9%95%9C%E5%83%8F%E6%BA%90"><span class="toc-number">2.</span> <span class="toc-text">设置镜像源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pycharm%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">Pycharm设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%8C%85%E4%BE%9D%E8%B5%96"><span class="toc-number">4.</span> <span class="toc-text">生成包依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="toc-number">5.</span> <span class="toc-text">虚拟环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">6.</span> <span class="toc-text">模块导入和使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%A7%A3%E9%87%8A%E5%99%A8%E3%80%81%E7%BC%96%E7%A0%81"><span class="toc-number">7.</span> <span class="toc-text">默认解释器、编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E5%BC%95%E5%8F%B7"><span class="toc-number">8.</span> <span class="toc-text">Python引号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#is-%E4%B8%8E-x3D-x3D-%E5%8C%BA%E5%88%AB"><span class="toc-number">9.</span> <span class="toc-text">is 与 &#x3D;&#x3D; 区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">10.</span> <span class="toc-text">异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">11.</span> <span class="toc-text">全局变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">解析参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wheel%E5%8C%85"><span class="toc-number">13.</span> <span class="toc-text">wheel包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#url%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81"><span class="toc-number">14.</span> <span class="toc-text">url编码和解码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC"><span class="toc-number">15.</span> <span class="toc-text">列表推导</span></a></li></ol></details></div><div class="container post-content"><p>Python常见问题</p>
<span id="more"></span>

<h2 id="python和pip安装"><a href="#python和pip安装" class="headerlink" title="python和pip安装"></a>python和pip安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line">    安装：sudo apt install python3</span><br><span class="line"></span><br><span class="line">    运行</span><br><span class="line">        python3 xxx.py</span><br><span class="line">            -u：不带缓存输出</span><br><span class="line">            -m：模块当做脚本运行</span><br><span class="line">            -i：镜像源</span><br><span class="line">            -c：允许cmd</span><br><span class="line">pip</span><br><span class="line">    安装：sudo apt install python3-pip</span><br><span class="line"></span><br><span class="line">    查看所有库：pip3 list</span><br><span class="line">    升级pip：pip3 install --upgrade pip</span><br><span class="line">    安装库：pip3 install requests=[版本号] -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">    卸载并重装pip：sudo python3 -m pip uninstall pip &amp;&amp; sudo apt install python3-pip --reinstall</span><br><span class="line"></span><br><span class="line">库安装</span><br><span class="line">    1.离线安装</span><br><span class="line">        python install setup.py</span><br><span class="line">    2.pip安装</span><br><span class="line">        pip3 install requests=[版本号] -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">    3.idea安装</span><br><span class="line">        Settings -&gt; Project: script -&gt; Project Interpreter</span><br></pre></td></tr></table></figure>

<h2 id="设置镜像源"><a href="#设置镜像源" class="headerlink" title="设置镜像源"></a>设置镜像源</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ubuntu：</span><br><span class="line">    vim ~/.pip/pip.conf</span><br><span class="line">        [global]</span><br><span class="line">        index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line">windows：</span><br><span class="line">    C:\Users\xxx\pip\pip.ini</span><br><span class="line">        [global]</span><br><span class="line">        index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<h2 id="Pycharm设置"><a href="#Pycharm设置" class="headerlink" title="Pycharm设置"></a>Pycharm设置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Settings -&gt; Editor -&gt; File Encodings -&gt; UTF-8</span><br><span class="line">Settings -&gt; Editor -&gt; Code Style -&gt; Tab size 改成 4</span><br><span class="line">Settings -&gt; Project: script -&gt; Project Interpreter -&gt; 设置python版本</span><br><span class="line">Settings -&gt; Project: script -&gt; Project Interpreter -&gt; 点+号，设置镜像源（https://pypi.tuna.tsinghua.edu.cn/simple）</span><br></pre></td></tr></table></figure>

<h2 id="生成包依赖"><a href="#生成包依赖" class="headerlink" title="生成包依赖"></a>生成包依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">    pip3 install pipreqs</span><br><span class="line">生成</span><br><span class="line">    pipreqs ./ --encoding=utf8</span><br><span class="line">安装依赖</span><br><span class="line">    pip3 install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h2 id="虚拟环境"><a href="#虚拟环境" class="headerlink" title="虚拟环境"></a>虚拟环境</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">linux</span><br><span class="line">    mkdir myproject</span><br><span class="line">    cd myproject</span><br><span class="line">    python3 -m venv venv</span><br><span class="line">    . venv/bin/activate</span><br><span class="line"></span><br><span class="line">windows</span><br><span class="line">    mkdir myproject</span><br><span class="line">    cd myproject</span><br><span class="line">    py -3 -m venv venv</span><br><span class="line">    venv\Scripts\activate</span><br></pre></td></tr></table></figure>

<h2 id="模块导入和使用"><a href="#模块导入和使用" class="headerlink" title="模块导入和使用"></a>模块导入和使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1. 在同一目录下:</span><br><span class="line">    # 导入模块</span><br><span class="line">        import support</span><br><span class="line">    # 使用</span><br><span class="line">        support.print_func(&#x27;Runoob&#x27;)</span><br><span class="line">        print(support.count)</span><br><span class="line"></span><br><span class="line">    # 导入模块内具体内容</span><br><span class="line">        from support import print_func</span><br><span class="line">        from support import count</span><br><span class="line">    # 使用</span><br><span class="line">        print_func(&#x27;Runoob&#x27;)</span><br><span class="line">        print(count)</span><br><span class="line"></span><br><span class="line">2. 子目录</span><br><span class="line">    import os</span><br><span class="line">    import sys</span><br><span class="line">    sys.path.append(os.path.join(os.path.dirname(os.path.abspath(__file__)), &#x27;sub_dir&#x27;))</span><br><span class="line"></span><br><span class="line">3. 父目录</span><br><span class="line">    import os</span><br><span class="line">    import sys</span><br><span class="line">    sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))</span><br></pre></td></tr></table></figure>

<h2 id="默认解释器、编码"><a href="#默认解释器、编码" class="headerlink" title="默认解释器、编码"></a>默认解释器、编码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python3</span><br><span class="line"># encoding: utf-8</span><br></pre></td></tr></table></figure>

<h2 id="Python引号"><a href="#Python引号" class="headerlink" title="Python引号"></a>Python引号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Python 可以使用引号( &#x27; )、双引号( &quot; )、三引号( &#x27;&#x27;&#x27; 或 &quot;&quot;&quot; ) 来表示字符串，其中三引号可以由多行组成。</span><br><span class="line">word = &#x27;word&#x27;</span><br><span class="line">sentence = &quot;这是一个句子。&quot;</span><br><span class="line">paragraph = &quot;&quot;&quot;这是一个段落。</span><br><span class="line">包含了多个语句&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="is-与-x3D-x3D-区别"><a href="#is-与-x3D-x3D-区别" class="headerlink" title="is 与 &#x3D;&#x3D; 区别"></a>is 与 &#x3D;&#x3D; 区别</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">is 用于判断两个变量引用对象是否为同一个(同一块内存空间)， == 用于判断引用变量的值是否相等。</span><br></pre></td></tr></table></figure>

<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">捕获异常：</span><br><span class="line">try:</span><br><span class="line">    doxxx</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e)</span><br><span class="line">    print(traceback.format_exc())</span><br><span class="line"></span><br><span class="line">抛出异常：</span><br><span class="line">raise Exception(&#x27;haha&#x27;)</span><br></pre></td></tr></table></figure>

<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">引用全局变量，不需要global声明，修改全局变量，需要使用global声明</span><br></pre></td></tr></table></figure>

<h2 id="解析参数"><a href="#解析参数" class="headerlink" title="解析参数"></a>解析参数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">opts,args = getopt.getopt(sys.argv[1:],&#x27;hf:v&#x27;,[&#x27;help&#x27;,&#x27;filename=&#x27;,&#x27;version&#x27;])</span><br><span class="line">for opt_name,opt_value in opts:</span><br><span class="line">    if opt_name in (&#x27;-h&#x27;,&#x27;--help&#x27;):</span><br><span class="line">        print(&quot;[*] Help info&quot;)</span><br><span class="line">        sys.exit()</span><br><span class="line">    if opt_name in (&#x27;-v&#x27;,&#x27;--version&#x27;):</span><br><span class="line">        print(&quot;[*] Version is 0.01 &quot;)</span><br><span class="line">        sys.exit()</span><br><span class="line">    if opt_name in (&#x27;-f&#x27;,&#x27;--filename&#x27;):</span><br><span class="line">        fileName = opt_value</span><br><span class="line">        print(&quot;[*] Filename is &quot;,fileName)</span><br><span class="line">        # do something</span><br><span class="line">        sys.exit()</span><br></pre></td></tr></table></figure>


<h2 id="wheel包"><a href="#wheel包" class="headerlink" title="wheel包"></a>wheel包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">    pip3 install wheel</span><br><span class="line">    pip3 install --upgrade setuptools</span><br><span class="line"></span><br><span class="line">setup.py</span><br><span class="line">    from setuptools import setup</span><br><span class="line"></span><br><span class="line">    setup(</span><br><span class="line">        name=&#x27;webscm&#x27;,</span><br><span class="line">        version=&#x27;1.0&#x27;,</span><br><span class="line">        py_modules=&#x27;webscm&#x27;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">生成包</span><br><span class="line">    python3 setup.py bdist_wheel</span><br><span class="line"></span><br><span class="line">导入包</span><br><span class="line">    pip3 install webscm-1.0-py3-none-any.whl</span><br><span class="line"></span><br><span class="line">部署</span><br><span class="line">    pip3 install waitress</span><br><span class="line">    waitress-serve --call &#x27;flaskr:create_app&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="url编码和解码"><a href="#url编码和解码" class="headerlink" title="url编码和解码"></a>url编码和解码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from urllib.parse import quote</span><br><span class="line"></span><br><span class="line"># 将字符串‘程序设计’进行编码</span><br><span class="line">text = quote(&quot;程序设计&quot;, &#x27;utf-8&#x27;)</span><br><span class="line"></span><br><span class="line"># 对字符串‘%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1’进行解密</span><br><span class="line">text = unquote(&quot;%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1&quot;, &#x27;utf-8&#x27;)</span><br></pre></td></tr></table></figure>

<h2 id="列表推导"><a href="#列表推导" class="headerlink" title="列表推导"></a>列表推导</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list comprehensions</span><br><span class="line">tmp_list = [var[&#x27;file_name&#x27;] for var in LONG_SAVE_FILE_LIST]</span><br></pre></td></tr></table></figure></div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/lato-font/3.0.0/css/lato-font.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcdn.net/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcdn.net/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>
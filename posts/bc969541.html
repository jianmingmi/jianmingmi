<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="&lt;p&gt;DB常见操作&lt;/p&gt;"><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><title>DB常见操作 | Mijm Blog</title><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 6.3.0"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-none-link" href="/tags/Database/" rel="tag">Database</a></div><div class="post-time">2015-10-23</div></div></div><div class="container post-header"><h1>DB常见操作</h1></div><div class="container post-toc"><details class="toc"><summary class="toc-accordion">Table of Contents</summary><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7"><span class="toc-number">4.</span> <span class="toc-text">高级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mysql%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">Mysql常用操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sqlite%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">6.</span> <span class="toc-text">sqlite常用操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">7.</span> <span class="toc-text">其他</span></a></li></ol></details></div><div class="container post-content"><p>DB常见操作</p>
<span id="more"></span>

<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DDL：数据定义语言</span><br><span class="line">DQL：数据查询语言</span><br><span class="line">DML：数据操作语言</span><br><span class="line">CREATE：创建一个新的表，一个表的视图，或者数据库中的其他对象。</span><br><span class="line">ALTER：修改数据库中的某个已有的数据库对象，比如一个表。</span><br><span class="line">DROP：删除整个表，或者表的视图，或者数据库中的其他对象。</span><br><span class="line">INSERT：创建一条记录。</span><br><span class="line">UPDATE：修改记录。</span><br><span class="line">DELETE：删除记录。</span><br><span class="line">SELECT：从一个或多个表中检索某些记录。</span><br></pre></td></tr></table></figure>


<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">算术运算符</span><br><span class="line">    +：加法 - 把运算符两边的值相加	a + b 将得到 30</span><br><span class="line">    -：减法 - 左操作数减去右操作数	a - b 将得到 -10</span><br><span class="line">    *：乘法 - 把运算符两边的值相乘	a * b 将得到 200</span><br><span class="line">    /：除法 - 左操作数除以右操作数	b / a 将得到 2</span><br><span class="line">    %：取模 - 左操作数除以右操作数后得到的余数	b % a will give 0</span><br><span class="line"></span><br><span class="line">比较运算符</span><br><span class="line">    ==：检查两个操作数的值是否相等，如果相等则条件为真。	(a == b) 不为真。</span><br><span class="line">    =：检查两个操作数的值是否相等，如果相等则条件为真。	(a = b) 不为真。</span><br><span class="line">    !=：检查两个操作数的值是否相等，如果不相等则条件为真。	(a != b) 为真。</span><br><span class="line">    &lt;&gt;：检查两个操作数的值是否相等，如果不相等则条件为真。	(a &lt;&gt; b) 为真。</span><br><span class="line">    &gt;：检查左操作数的值是否大于右操作数的值，如果是则条件为真。	(a &gt; b) 不为真。</span><br><span class="line">    &lt;：检查左操作数的值是否小于右操作数的值，如果是则条件为真。	(a &lt; b) 为真。</span><br><span class="line">    &gt;=：检查左操作数的值是否大于等于右操作数的值，如果是则条件为真。	(a &gt;= b) 不为真。</span><br><span class="line">    &lt;=：检查左操作数的值是否小于等于右操作数的值，如果是则条件为真。	(a &lt;= b) 为真。</span><br><span class="line">    !&lt;：检查左操作数的值是否不小于右操作数的值，如果是则条件为真。	(a !&lt; b) 为假。</span><br><span class="line">    !&gt;：检查左操作数的值是否不大于右操作数的值，如果是则条件为真。	(a !&gt; b) 为真。</span><br><span class="line"></span><br><span class="line">逻辑运算符</span><br><span class="line">    AND：运算符允许在一个 SQL 语句的 WHERE 子句中的多个条件的存在。</span><br><span class="line">    BETWEEN：运算符用于在给定最小值和最大值范围内的一系列值中搜索值。</span><br><span class="line">    EXISTS：运算符用于在满足一定条件的指定表中搜索行的存在。</span><br><span class="line">    IN：运算符用于把某个值与一系列指定列表的值进行比较。</span><br><span class="line">    NOT IN：运算符的对立面，用于把某个值与不在一系列指定列表的值进行比较。</span><br><span class="line">    LIKE：运算符用于把某个值与使用通配符运算符的相似值进行比较。</span><br><span class="line">    GLOB：运算符用于把某个值与使用通配符运算符的相似值进行比较。GLOB 与 LIKE 不同		之处在于，它是大小写敏感的。</span><br><span class="line">    NOT：运算符是所用的逻辑运算符的对立面。比如 NOT EXISTS、NOT BETWEEN、NOT IN，等等。它是否定运算符。</span><br><span class="line">    OR：运算符用于结合一个 SQL 语句的 WHERE 子句中的多个条件。</span><br><span class="line">    IS NULL：运算符用于把某个值与 NULL 值进行比较。</span><br><span class="line">    IS：运算符与 = 相似。</span><br><span class="line">    IS NOT：运算符与 != 相似。</span><br><span class="line">    ||：连接两个不同的字符串，得到一个新的字符串。</span><br><span class="line">    UNIQUE：运算符搜索指定表中的每一行，确保唯一性（无重复）。</span><br><span class="line"></span><br><span class="line">位运算符</span><br><span class="line">    &amp;：如果同时存在于两个操作数中，二进制 AND 运算符复制一位到结果中。	(A &amp; B) 将得到 		12，即为 0000 1100</span><br><span class="line">    |：如果存在于任一操作数中，二进制 OR 运算符复制一位到结果中。	(A | B) 将得到 61，即	为 0011 1101</span><br><span class="line">    ~：二进制补码运算符是一元运算符，具有&quot;翻转&quot;位效应，即0变成1，1变成0。	(~A ) 将得到 	-61，即为 1100 0011，一个有符号二进制数的补码形式。</span><br><span class="line">    &lt;&lt;：二进制左移运算符。左操作数的值向左移动右操作数指定的位数。	A &lt;&lt; 2 将得到 240，即	为 1111 0000</span><br><span class="line">    &gt;&gt;：二进制右移运算符。左操作数的值向右移动右操作数指定的位数。	A &gt;&gt; 2 将得到 15，即为 0000 1111</span><br></pre></td></tr></table></figure>

<h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">执行顺序：</span><br><span class="line">    1.from</span><br><span class="line">    2.join</span><br><span class="line">    3.where</span><br><span class="line">    4.group by</span><br><span class="line">    5.order by</span><br><span class="line"></span><br><span class="line">增删改查</span><br><span class="line">    insert into `user`(`field1`,`field2`) values(value1,value2);</span><br><span class="line">    delete from `user` where 范围;</span><br><span class="line">    update `user` set field1=value1 where 范围;</span><br><span class="line">    select * from `user`;</span><br><span class="line"></span><br><span class="line">like子句</span><br><span class="line">    select * from `user` where name like &#x27;xxx%&#x27;;</span><br><span class="line">    select * from `user` where name like &#x27;xxx_&#x27;;</span><br><span class="line">    通配符：百分号（%）代表零个、一个或多个数字或字符。下划线（_）代表一个单一的数字或字符。</span><br><span class="line"></span><br><span class="line">glob子句</span><br><span class="line">    select * from `user` where name glob &#x27;xxx*&#x27;;</span><br><span class="line">    select * from `user` where name glob &#x27;xxx?&#x27;;</span><br><span class="line">    通配符：星号（*）代表零个、一个或多个数字或字符。问号（?）代表一个单一的数字或字符。</span><br><span class="line"></span><br><span class="line">limit子句（从 offset 偏移量，截取 limit 条数）</span><br><span class="line">    select * from `user` limit 10 offset 0;</span><br><span class="line"></span><br><span class="line">order by子句</span><br><span class="line">    select * from `user` order by col1,col2 [ASC | DESC];</span><br><span class="line"></span><br><span class="line">group by子句</span><br><span class="line">    select * from `user` group by col1,col2 having 条件;</span><br><span class="line"></span><br><span class="line">distinct（去除重复列，distinct后面的所有列）</span><br><span class="line">    select distinct col1,col2,col3 from `user`;</span><br></pre></td></tr></table></figure>

<h2 id="高级"><a href="#高级" class="headerlink" title="高级"></a>高级</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">约束：</span><br><span class="line">    not null 约束：确保某列不能有 NULL 值。</span><br><span class="line">    default 约束：当某列没有指定值时，为该列提供默认值。</span><br><span class="line">    unique 约束：确保某列中的所有值是不同的。</span><br><span class="line">    primary key 约束：唯一标识数据库表中的各行/记录。</span><br><span class="line">    check 约束：CHECK 约束确保某列中的所有值满足一定条件。</span><br><span class="line">    age ingeter check(age &gt; 0),</span><br><span class="line"></span><br><span class="line">连接：</span><br><span class="line">    交叉连接 - CROSS JOIN（结果乘积）</span><br><span class="line">    内连接 - INNER JOIN（结果交集）</span><br><span class="line">    外连接 - OUTER JOIN（left、right）（on只对关联条件起作用）</span><br><span class="line">        select * from t1 a</span><br><span class="line">        left join t2 b on a.id = b.user_id</span><br><span class="line"></span><br><span class="line">union：（union连接两个结果集，union all包括重复列）</span><br><span class="line">    select * from user1</span><br><span class="line">    union</span><br><span class="line">    select * from user2</span><br><span class="line"></span><br><span class="line">别名：</span><br><span class="line">    select a as name from user as A</span><br><span class="line">    select a name from user A</span><br><span class="line"></span><br><span class="line">触发器：</span><br><span class="line"></span><br><span class="line">索引：</span><br><span class="line">    create index index_name on table_name (column1, column2);</span><br><span class="line">    drop index salary_index;</span><br><span class="line">    select * from company indexed by salary_index WHERE salary &gt; 5000;</span><br><span class="line"></span><br><span class="line">视图：</span><br><span class="line">    create view xxx_view as select * from `user`;</span><br><span class="line">    drop view xxx_view;</span><br><span class="line"></span><br><span class="line">事务：</span><br><span class="line">    BEGIN TRANSACTION：开始事务处理。</span><br><span class="line">    COMMIT：保存更改，或者可以使用 END TRANSACTION 命令。</span><br><span class="line">    ROLLBACK：回滚所做的更改。</span><br><span class="line">    事务控制命令只与 DML 命令 INSERT、UPDATE 和 DELETE 一起使用。他们不能在创建表或删除表时使用，因为这些操作在数据库中是自动提交的。</span><br><span class="line"></span><br><span class="line">autoincrement：</span><br><span class="line">    column1 integer autoincrement,</span><br><span class="line"></span><br><span class="line">集合判断：</span><br><span class="line">    (case </span><br><span class="line">    when A.status_flag=&#x27;0&#x27; then &#x27;退回&#x27; </span><br><span class="line">    when A.status_flag=&#x27;1&#x27; then &#x27;新增&#x27; </span><br><span class="line">    when A.status_flag=&#x27;2&#x27; then &#x27;待复核&#x27; </span><br><span class="line">    else &#x27;其他&#x27; </span><br><span class="line">    end</span><br><span class="line">    ) status_name</span><br><span class="line"></span><br><span class="line">函数：</span><br><span class="line">    1：SQLite COUNT 函数</span><br><span class="line">        SQLite COUNT 聚集函数是用来计算一个数据库表中的行数。</span><br><span class="line">    2：SQLite MAX 函数</span><br><span class="line">        SQLite MAX 聚合函数允许我们选择某列的最大值。</span><br><span class="line">    3：SQLite MIN 函数</span><br><span class="line">        SQLite MIN 聚合函数允许我们选择某列的最小值。</span><br><span class="line">    4：SQLite AVG 函数</span><br><span class="line">        SQLite AVG 聚合函数计算某列的平均值。</span><br><span class="line">    5：SQLite SUM 函数</span><br><span class="line">        SQLite SUM 聚合函数允许为一个数值列计算总和。</span><br><span class="line">    6：SQLite RANDOM 函数</span><br><span class="line">        SQLite RANDOM 函数返回一个介于 -9223372036854775808 和 +9223372036854775807 之间的伪随机整数。</span><br><span class="line">    7：SQLite ABS 函数</span><br><span class="line">        SQLite ABS 函数返回数值参数的绝对值。</span><br><span class="line">    8：SQLite UPPER 函数</span><br><span class="line">        SQLite UPPER 函数把字符串转换为大写字母。</span><br><span class="line">    9：SQLite LOWER 函数</span><br><span class="line">        SQLite LOWER 函数把字符串转换为小写字母。</span><br><span class="line">    10：SQLite LENGTH 函数</span><br><span class="line">        SQLite LENGTH 函数返回字符串的长度。</span><br><span class="line">    11：SQLite sqlite_version 函数</span><br><span class="line">        SQLite sqlite_version 函数返回 SQLite 库的版本。</span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<h2 id="Mysql常用操作"><a href="#Mysql常用操作" class="headerlink" title="Mysql常用操作"></a>Mysql常用操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">mysql数据类型</span><br><span class="line">    | 类型 | 描述 |</span><br><span class="line">    | int/integer | int同integer |</span><br><span class="line">    | char | 定长字符串 |</span><br><span class="line">    | varchar | 变长字符串 |</span><br><span class="line">    | text | 长文本 |</span><br><span class="line"></span><br><span class="line">创建表（可放not null和default）</span><br><span class="line">    drop table if exists `user`;</span><br><span class="line">    create table `user` (</span><br><span class="line">     `id` int auto_increment,</span><br><span class="line">     `name` varchar(32),</span><br><span class="line">     `age` int,</span><br><span class="line">     primary key (`id`)</span><br><span class="line">    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">连接mysql，并修改密码</span><br><span class="line">    mysql -u root -p</span><br><span class="line">    set password for &#x27;root&#x27;@&#x27;localhost&#x27; = password(&#x27;newpass&#x27;);</span><br><span class="line"></span><br><span class="line">创建删除数据库</span><br><span class="line">    drop database `jfinal`;</span><br><span class="line">    create database `jfinal` CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line"></span><br><span class="line">修改root密码</span><br><span class="line">    use mysql;</span><br><span class="line">    update user set password=password(&#x27;new password&#x27;) where user=&#x27;root&#x27;;</span><br><span class="line"></span><br><span class="line">创建远程用户（删除、创建、授权）</span><br><span class="line">    drop user &#x27;jmm&#x27;@&#x27;%&#x27;;</span><br><span class="line">    create user &#x27;jmm&#x27;@&#x27;%&#x27; identified by &#x27;jmm&#x27;;</span><br><span class="line">    grant all on *.* to &#x27;jmm&#x27;@&#x27;%&#x27;;</span><br><span class="line"></span><br><span class="line">查看用户</span><br><span class="line">    select Host,User from mysql.user;</span><br><span class="line"></span><br><span class="line">查看 设置 字符集</span><br><span class="line">    show VARIABLES like &#x27;character%&#x27;;</span><br><span class="line">    set character_set_client=utf8;</span><br></pre></td></tr></table></figure>

<h2 id="sqlite常用操作"><a href="#sqlite常用操作" class="headerlink" title="sqlite常用操作"></a>sqlite常用操作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">创建表</span><br><span class="line">    drop table if exists `user`;</span><br><span class="line">    create table if no exists `user` (</span><br><span class="line">     id integer primary key,    -- integer primary key即为自增</span><br><span class="line">     name varchar(32),</span><br><span class="line">     age integer</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">查表信息</span><br><span class="line">    select name from sqlite_master;</span><br><span class="line"></span><br><span class="line">查询出某个表的所有字段信息</span><br><span class="line">    PRAGMA table_info([tablename]);</span><br></pre></td></tr></table></figure>

<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">sql  操作</span><br><span class="line"></span><br><span class="line">一.sql语句</span><br><span class="line">  </span><br><span class="line">	增	insert into user (id,name,sex) values (1,&#x27;王明&#x27;,1)</span><br><span class="line">	删	delete from user where id = 1</span><br><span class="line">	改	update user set name=&#x27;张&#x27;,sex=1 where id = 1</span><br><span class="line">	查	select * from user where name like %&#x27;张&#x27;% limit 0,10</span><br><span class="line"></span><br><span class="line">二.JDBC操作</span><br><span class="line">      </span><br><span class="line">	================================数据库操作，五步==========================</span><br><span class="line">	</span><br><span class="line">	//1.加载驱动</span><br><span class="line">	Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line"></span><br><span class="line">	//2.连接数据库</span><br><span class="line">	Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/数据库名?useUnicode=true&amp;characterEncoding=utf-8&quot;,&quot;用户&quot;,&quot;密码&quot;);</span><br><span class="line"></span><br><span class="line">	//3.使用Connection创建语句</span><br><span class="line">	String sql = &quot;select * from user&quot;;</span><br><span class="line">	PreparedStatement pst = connection.prepareStatement(sql);</span><br><span class="line">	</span><br><span class="line">	//4.执行</span><br><span class="line">	ResultSet rs = pst.executeQuery();//查询</span><br><span class="line">	ResultSet rs = pst.executeUpdate();//增删改</span><br><span class="line"></span><br><span class="line">	/*</span><br><span class="line">	while(rs.next())&#123;</span><br><span class="line">		int id = rs.getInt(&quot;id&quot;);</span><br><span class="line">		String name = rs.getString(&quot;name&quot;);</span><br><span class="line">		String pwd = rs.getString(&quot;pwd&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	*/</span><br><span class="line">	</span><br><span class="line">	//5.关闭数据，从下到上</span><br><span class="line">	rs.close();</span><br><span class="line">	pst.close();</span><br><span class="line">	connection.close();</span><br><span class="line"></span><br><span class="line">	======================================结束=======================================</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">三.读取配置文件信息（database.properties）（单例模式）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//读取配置文件的工具类-单例模式</span><br><span class="line"></span><br><span class="line">public class ConfigManager &#123;</span><br><span class="line">	private static ConfigManager configManager;</span><br><span class="line">	private static Properties properties;</span><br><span class="line">	</span><br><span class="line">	//私有构造器</span><br><span class="line">	private ConfigManager()&#123;</span><br><span class="line">		String configFile = &quot;database.properties&quot;;</span><br><span class="line">		properties = new Properties();</span><br><span class="line">		//通过classpath找资源</span><br><span class="line">		InputStream is = ConfigManager.class.getClassLoader().getResourceAsStream(configFile);</span><br><span class="line">		try &#123;</span><br><span class="line">			properties.load(is);</span><br><span class="line">			is.close();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	/*</span><br><span class="line">	 * </span><br><span class="line">	 * 线程不安全，在并发的情况下，很有可能会出现多个ConfigManager实例</span><br><span class="line">	 * 考虑同步,可以采用synchronized</span><br><span class="line">	 * </span><br><span class="line">	 * */</span><br><span class="line">	//全局访问点</span><br><span class="line">	public static synchronized ConfigManager getInstance()&#123;</span><br><span class="line">		if(configManager == null)&#123;</span><br><span class="line">			configManager = new ConfigManager();</span><br><span class="line">		&#125;</span><br><span class="line">		return configManager;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public String getValue(String key)&#123;</span><br><span class="line">		 return properties.getProperty(key);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	//用key取出properties里面的value</span><br><span class="line">	String driver = ConfigManager.getInstance().getString(&quot;driver&quot;);</span><br><span class="line">	String url = ConfigManager.getInstance().getString(&quot;url&quot;);</span><br><span class="line">	String user = ConfigManager.getInstance().getString(&quot;user&quot;);</span><br><span class="line">	String pwd = ConfigManager.getInstance().getString(&quot;pwd&quot;);</span><br></pre></td></tr></table></figure></div></div><div class="post-main post-comment"></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/lato-font/3.0.0/css/lato-font.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcdn.net/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcdn.net/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script></body></html>